<div class="relative">
  <div
    class="cursor-pointer rounded-lg border border-gray-300 p-2"
    (click)="toggleDropdown()"
  >
    <div class="flex flex-wrap gap-2">
      <span
        *ngFor="let selected of selectedCategories"
        class="rounded bg-blue-100 px-2 py-1 text-xs text-blue-600"
      >
        {{ selected.name }}
        <button
          (click)="
            removeCategory(selected);
            $event.stopPropagation();
            $event.preventDefault()
          "
          class="ml-1 text-red-500"
        >
          Ã—
        </button>
      </span>
    </div>
    <span *ngIf="selectedCategories.length === 0" class="text-gray-400"
      >Select categories</span
    >
  </div>

  <div
    *ngIf="isDropdownOpen"
    class="absolute max-h-60 w-full overflow-auto rounded-lg border border-gray-300 bg-white shadow-lg"
  >
    <ul class="max-h-24 overflow-y-auto">
      <li
        *ngFor="let category of availableCategories"
        class="cursor-pointer p-2 hover:bg-gray-100"
        (click)="selectCategory(category)"
      >
        {{ category.name }}
      </li>
    </ul>
  </div>
</div>
